<app-centered-container [small]="true">
  <h1>Image Organizer</h1>
  <form class="configuration-form" (ngSubmit)="startProcess()">
    <mat-form-field>
      <mat-label>Directory</mat-label>
      <input matInput [(ngModel)]="config.directory" name="path"/>
    </mat-form-field>
    <mat-card class="card">
      <mat-slide-toggle [(ngModel)]="config.duplicates.enabled" name="duplicatesEnabled" color="primary">Search for Duplicates</mat-slide-toggle>
      <ng-container *ngIf="config.duplicates.enabled">
        <mat-slider [min]="0" [max]="100" [step]="0.1" [(ngModel)]="config.duplicates.diff" name="dupDiff">Maximum Percentage Diff</mat-slider>
        <div>{{config.duplicates.diff}}%</div>
      </ng-container>
    </mat-card>
    <mat-card class="card">
      <mat-slide-toggle [(ngModel)]="config.trips.enabled" name="tripsEnabled" color="primary">Group by Trips</mat-slide-toggle>
      <ng-container *ngIf="config.trips.enabled">
        <mat-form-field>
          <mat-label>Distance in kilometers</mat-label>
          <input matInput type="number" [(ngModel)]="config.trips.distance" name="tripDist"/>
        </mat-form-field>
        <mat-form-field>
          <mat-label>Maximum hours between photos</mat-label>
          <input matInput type="number" [(ngModel)]="config.trips.hoursBetween" name="tripHours"/>
        </mat-form-field>
      </ng-container>
    </mat-card>
    <div class="button-bar">
      <button mat-raised-button color="primary" type="submit">Start</button>
    </div>
  </form>
</app-centered-container>
